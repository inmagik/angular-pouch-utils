/*!
 * angular-pouch-utils
 * 
 * Version: 0.1.0 - 2014-10-10T15:49:02.673Z
 * License: 
 */
!function(){"use strict";angular.module("pouchUtils",[]).factory("pouchService",["$q",function(e){var r={};return r.getDocListFactory=function(r){return function(){var t=e.defer();return r.allDocs({include_docs:!0,conflicts:!0},function(e,r){e&&t.reject(e);var n=_.pluck(r.rows,"doc");t.resolve(n)}),t.promise}},r.getDocFactory=function(r){return function(t){var n=e.defer();return r.get(t,{include_docs:!0},function(e,r){e&&n.reject(e),n.resolve(r)}),n.promise}},r.saveDocFactory=function(r){return function(t){var n=e.defer();return t._id&&t._rev?r.put(t,t._id,t._rev).then(function(e){t._rev=e.rev,n.resolve(t)}).catch(function(e){n.reject(e)}):r.post(t,t._id).then(function(e){t._id=e.id,t._rev=e.rev,n.resolve(t)}).catch(function(e){n.reject(e)}),n.promise}},r.deleteDocFactory=function(r){return function(t){var n=e.defer();return r.remove(t,function(e,r){e&&n.reject(e),n.resolve(r)}),n.promise}},r}])}();