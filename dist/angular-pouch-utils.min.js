/*!
 * angular-pouch-utils
 * 
 * Version: 0.1.0 - 2014-10-10T15:18:52.873Z
 * License: 
 */
!function(){"use strict";angular.module("pouchUtils",[]).factory("pouchService",["$q",function(){var e={};return e.getDocListFactory=function(e){return function(){var r=$q.defer();return e.allDocs({include_docs:!0,conflicts:!0},function(e,t){e&&r.reject(e);var n=_.pluck(t.rows,"doc");r.resolve(n)}),r.promise}},e.getDocFactory=function(e){return function(r){var t=$q.defer();return e.get(r,{include_docs:!0},function(e,r){e&&t.reject(e),t.resolve(r)}),t.promise}},e.saveDocFactory=function(e){return function(r){var t=$q.defer();return r._id&&r._rev?e.put(r,r._id,r._rev).then(function(e){r._rev=e.rev,t.resolve(r)}).catch(function(e){t.reject(e)}):e.post(r,r._id).then(function(e){r._id=e.id,r._rev=e.rev,t.resolve(r)}).catch(function(e){t.reject(e)}),t.promise}},e.deleteDocFactory=function(e){return function(r){var t=$q.defer();return e.remove(r,function(e,r){e&&t.reject(e),t.resolve(r)}),t.promise}},e}])}();